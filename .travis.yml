os: linux
dist: noble
group: dev

services:
  - podman

script:
  - echo "==== CHECKING PODMAN INSTALLATION ===="
  - which podman || echo "Podman is not available in PATH"
  - podman --version || echo "The command podman --version returned an error"
  
  - echo "==== CHECKING PODMAN SERVICE STATUS ===="
  - sudo systemctl status podman.service || echo "The podman.service is unavailable or not running"
  - sudo systemctl status podman.socket || echo "The podman.socket is unavailable or not running"
  - sudo systemctl is-active podman.service || echo "The podman.service is not active"
  - sudo systemctl is-active podman.socket || echo "The podman.socket is not active"
  - sudo systemctl is-enabled podman.service || echo "The podman.service is not enabled"
  - sudo systemctl is-enabled podman.socket || echo "The podman.socket is not enabled"
  
  - echo "==== PODMAN PROCESSES ===="
  - ps aux | grep -i podman || echo "No Podman processes found"
  
  - echo "==== PODMAN LOGS ===="
  - sudo journalctl -u podman.service --no-pager -n 20 || echo "No logs for podman.service"
  - sudo journalctl -u podman.socket --no-pager -n 20 || echo "No logs for podman.socket"
