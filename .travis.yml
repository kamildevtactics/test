language: minimal
services:
  - docker
before_install:
  - echo "Pulling nginx image..."
  - docker pull nginx

script:
  - echo "Running nginx container..."
  - docker run -d -p 8080:80 --name mynginx nginx
  - sleep 5
  - curl -I http://localhost:8080

after_script:
  - docker ps -a
  - docker logs mynginx
  - docker stop mynginx
  - docker rm mynginx
