language: node_js
node_js:
  - 20.9             # LTS version
os: linux
arch: amd64
dist: jammy        # Ubuntu 22.04
group: dev

# Cache npm to speed up builds
cache:
  directories:
    - ~/.npm

# Git shallow clone for faster fetch
git:
  depth: 1
  quiet: true
  submodules: false

before_install:
  # Check if Podman is installed
  - command -v podman || { echo "Podman is not installed. Please install Podman before proceeding."; exit 1; }
  # Display Podman version
  - podman --version
  # Check if Podman is working properly
  - podman info
  - npm config set loglevel verbose
  - npm install --verbose

script:
  - echo "npm install completed successfully"
