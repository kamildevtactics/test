language: node_js
node_js:
  - 20.9             # LTS version
os: linux
arch: amd64
dist: jammy        # Ubuntu 22.04
service:
  -podman

# Cache npm to speed up builds
cache:
  directories:
    - ~/.npm

# Git shallow clone for faster fetch
git:
  depth: 1
  quiet: true
  submodules: false

before_install:
  - podman --version
  # Check if Podman is working properly
  - podman info
  - npm config set loglevel verbose
  - npm install --verbose

script:
  - echo "npm install completed successfully"
